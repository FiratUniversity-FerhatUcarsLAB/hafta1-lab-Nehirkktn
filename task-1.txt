Ã–ÄŸrenci No: 250541039
AD-SOYAD: Nehir KÃ–KTEN

LÃ¼tfen seÃ§tiÄŸiniz algoritmaya ait Ã§Ã¶zÃ¼mÃ¼ ve diÄŸer isterleri aÅŸaÄŸÄ±ya ekleyiniz:
// Dosya AdÄ±: OyunSimulasyonu.java

import java.util.ArrayList;
import java.util.Random;
import java.util.Scanner;

// Ana ve tek public sÄ±nÄ±fÄ±mÄ±z. Dosya adÄ± bununla aynÄ± olmalÄ±.
 class OyunSimulasyonu {

    // --- YARDIMCI Ä°Ã‡ SINIF ---
    // GameState kalÄ±bÄ±nÄ±, baÅŸka bir dosyaya ihtiyaÃ§ duymadan buraya yerleÅŸtirdik.
    // Bu sÄ±nÄ±f sadece OyunSimulasyonu tarafÄ±ndan kullanÄ±lÄ±r.
    private static class GameState {
        int can;
        int dusmanSayisi;
        boolean ozelGucHazir;
        boolean riskliBonusVar;
        boolean oyunBitti;

        public GameState(int can, int dusmanSayisi, boolean ozelGucHazir, boolean riskliBonusVar, boolean oyunBitti) {
            this.can = can;
            this.dusmanSayisi = dusmanSayisi;
            this.ozelGucHazir = ozelGucHazir;
            this.riskliBonusVar = riskliBonusVar;
            this.oyunBitti = oyunBitti;
        }
    }

    // --- 1. BaÅŸlangÄ±Ã§ DeÄŸiÅŸkenleri (HafÄ±za KutularÄ±) ---
    private static int enYuksekSkor = 0;
    private static int denemeSayisi = 0;
    private static ArrayList<String> ogrenilenDersler = new ArrayList<>();
    private static Random random = new Random(); // Rastgele olaylar iÃ§in zar atma aracÄ±

    // --- 2. YardÄ±mcÄ± Metotlar (GÃ¶revi Yapan Paketler) ---

    private static void bekle(int milisaniye) {
        try {
            Thread.sleep(milisaniye);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }

    private static void hazirlikYap() {
        System.out.println("YÃ¼ksek skor algoritmasÄ± baÅŸlatÄ±lÄ±yor...");
        System.out.println("Oyunun kurallarÄ± ve skor mekanikleri analiz ediliyor...");
        enYuksekSkor = 0;
        System.out.println("HazÄ±rlÄ±k tamamlandÄ±. Mevcut rekor: " + enYuksekSkor);
        System.out.println("------------------------------------");
        bekle(2000);
    }

    private static GameState oyundanVeriAl(int oyunAdimi) {
        // CanÄ±n 0'Ä±n altÄ±na dÃ¼ÅŸmemesini saÄŸlarÄ±z
        int can = Math.max(0, 3 - (oyunAdimi / 4));
        int dusmanSayisi = random.nextInt(5) + 1;
        boolean ozelGucHazir = random.nextDouble() < 0.3;
        boolean riskliBonusVar = random.nextDouble() < 0.4;
        // Oyun ya 10 adÄ±ma ulaÅŸÄ±nca ya da can bitince biter
        boolean oyunBitti = (oyunAdimi >= 10 || can == 0);

        // YukarÄ±da tanÄ±mladÄ±ÄŸÄ±mÄ±z iÃ§ sÄ±nÄ±ftan yeni bir nesne oluÅŸturuyoruz.
        return new GameState(can, dusmanSayisi, ozelGucHazir, riskliBonusVar, oyunBitti);
    }

    private static String hataninNedeniniAnalizEt() {
        String[] hatalar = {
                "gereksiz bir risk alÄ±ndÄ± ve can kaybedildi",
                "Ã¶zel gÃ¼Ã§ Ã§ok erken kullanÄ±ldÄ±, boÅŸa gitti",
                "kolay bir hedefe odaklanÄ±rken bÃ¼yÃ¼k fÄ±rsat kaÃ§Ä±rÄ±ldÄ±",
                "savunma yapÄ±lmasÄ± gereken yerde saldÄ±rÄ± yapÄ±ldÄ±"
        };
        return hatalar[random.nextInt(hatalar.length)];
    }

    // --- 3. Ana Program AkÄ±ÅŸÄ± (OlayÄ±n BaÅŸladÄ±ÄŸÄ± Yer) ---
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        hazirlikYap();

        // <-- HATA DÃœZELTME: YanlÄ±ÅŸ parantezler kaldÄ±rÄ±ldÄ± ve dÃ¶ngÃ¼ main metodunun iÃ§ine alÄ±ndÄ±.
        while (true) {
            denemeSayisi++;
            int mevcutSkor = 0;
            int oyunAdimi = 0;
            boolean canliKaldi = true; // <-- EKLEME: Deneme sonunda kazanÄ±p kazanmadÄ±ÄŸÄ±nÄ± kontrol etmek iÃ§in.

            System.out.println("\nğŸš€ " + denemeSayisi + ". DENEME BAÅLIYOR! (Mevcut Rekor: " + enYuksekSkor + ")");
            bekle(1000);

            // <-- Ä°Ã‡ OYUN DÃ–NGÃœSÃœ
            while (true) {
                oyunAdimi++;
                GameState durum = oyundanVeriAl(oyunAdimi);

                // <-- MANTIKSAL EKLEME: Oyunun bitip bitmediÄŸini burada kontrol ediyoruz.
                if (durum.oyunBitti) {
                    if (durum.can == 0) {
                        System.out.println("\nCan kalmadÄ±... Oyun bitti.");
                        canliKaldi = false;
                    } else {
                        System.out.println("\nSÃ¼re doldu, deneme tamamlandÄ±.");
                    }
                    break; // <-- DÃ¶ngÃ¼yÃ¼ kÄ±rarak denemeyi sonlandÄ±rÄ±yoruz.
                }

                System.out.printf("AdÄ±m %d: (Can: %d, DÃ¼ÅŸman: %d) -> Karar: ", oyunAdimi, durum.can, durum.dusmanSayisi);
                bekle(500);

                // <-- MANTIKSAL EKLEME: Karar mekanizmasÄ± geniÅŸletildi.
                if (durum.ozelGucHazir && durum.dusmanSayisi >= 4) {
                    System.out.println("ğŸ’¥ Ã–zel gÃ¼Ã§ kullanÄ±ldÄ±! +500 Puan!");
                    mevcutSkor += 500;
                } else if (durum.riskliBonusVar && durum.can > 1) {
                    System.out.println("ğŸ² Riskli bonus alÄ±ndÄ±! +300 Puan, ama dikkatli olmalÄ±.");
                    mevcutSkor += 300;
                } else {
                    System.out.println("âš”ï¸ Standart saldÄ±rÄ± yapÄ±ldÄ±. +100 Puan.");
                    mevcutSkor += 100 * durum.dusmanSayisi;
                }
            } // <-- Ä°Ã§ oyun dÃ¶ngÃ¼sÃ¼nÃ¼n sonu

            // <-- MANTIKSAL EKLEME: Deneme sonrasÄ± analiz ve skor kontrolÃ¼
            System.out.println("------------------------------------");
            System.out.println("DENEME SONUCU: " + mevcutSkor + " Puan");

            if (mevcutSkor > enYuksekSkor) {
                enYuksekSkor = mevcutSkor;
                System.out.println("ğŸ† YENÄ° REKOR KIRILDI! Yeni YÃ¼ksek Skor: " + enYuksekSkor);
                ogrenilenDersler.clear(); // BaÅŸarÄ±lÄ± olunca eski hatalarÄ± unutalÄ±m.
            } else {
                System.out.println("ğŸ“‰ Rekor kÄ±rÄ±lamadÄ±. (Rekor: " + enYuksekSkor + ")");
                if (!canliKaldi) {
                    String ders = hataninNedeniniAnalizEt();
                    System.out.println("Ã–ÄŸrenilen Ders: " + ders);
                    ogrenilenDersler.add(ders);
                }
            }
            System.out.println("------------------------------------");

            // <-- MANTIKSAL EKLEME: KullanÄ±cÄ±ya devam edip etmeyeceÄŸini sorma
            System.out.print("\nYeni bir deneme yapmak iÃ§in 'e' yazÄ±p enter'a basÄ±n (Ã§Ä±kmak iÃ§in baÅŸka bir tuÅŸ): ");
            String devamMi = scanner.nextLine();
            if (!devamMi.equalsIgnoreCase("e")) {
                System.out.println("SimÃ¼lasyon sonlandÄ±rÄ±lÄ±yor.");
                break; // <-- Ana dÃ¶ngÃ¼yÃ¼ kÄ±rar ve programÄ± bitirir.
            }
        } // <-- Ana `while` dÃ¶ngÃ¼sÃ¼nÃ¼n sonu

        scanner.close(); // <-- Kaynak sÄ±zÄ±ntÄ±sÄ±nÄ± Ã¶nlemek iÃ§in scanner'Ä± kapatÄ±yoruz.
    } // <-- `main` metodunun sonu
} // <-- `OyunSimulasyonu` sÄ±nÄ±fÄ±nÄ±n sonu
